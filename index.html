<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Приветствие от Флуриона</title>
    <meta name="description" content="Официальная страница приветствия от Флуриона. Свяжитесь с нами.">
    <link rel="canonical" href="https://flurion.qzz.io/">

    <!-- 
      SECURITY: Content Security Policy (CSP)
      - connect-src: Added 'https://pagead2.googlesyndication.com' so we can test if uBlock blocks it.
    -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' 'unsafe-inline' https://static.cloudflareinsights.com; 
                   style-src 'self' 'unsafe-inline'; 
                   img-src 'self' data: https://flurion.qzz.io; 
                   connect-src 'self' https://cloudflareinsights.com https://pagead2.googlesyndication.com;">

    <!-- Open Graph / Discord -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://flurion.qzz.io/">
    <meta property="og:title" content="Приветствие от Флуриона">
    <meta property="og:description" content="Просто приветствие от Флуриона.">
    <meta property="og:image" content="https://flurion.qzz.io/images/main_page.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://flurion.qzz.io/">
    <meta name="twitter:title" content="Приветствие от Флуриона">
    <meta name="twitter:description" content="Просто приветствие от Флуриона.">
    <meta name="twitter:image" content="https://flurion.qzz.io/images/main_page.png">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #555555;
            --shadow-soft: 0 4px 6px rgba(0, 0, 0, 0.1);
            --font-stack: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        body {
            font-family: var(--font-stack);
            background-color: var(--bg-color);
            color: var(--text-primary);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        main {
            text-align: center;
            width: 100%;
            max-width: 600px;
        }

        .greeting {
            font-size: 2.5rem;
            font-weight: 700;
            padding: 30px;
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow-soft);
            margin-bottom: 24px;
            word-wrap: break-word; 
        }

        .contact-box {
            font-size: 1rem;
            color: var(--text-secondary);
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow-soft);
            line-height: 1.6;
        }

        address {
            font-style: normal;
        }

        a {
            color: var(--text-primary);
            text-decoration: underline;
        }

        a:hover {
            color: #000;
        }

        @media (max-width: 600px) {
            .greeting {
                font-size: 1.8rem;
                padding: 20px;
            }
            .contact-box {
                font-size: 0.9rem;
            }
        }
    </style>
    <meta name="yandex-verification" content="ab165053c594d870" />
    <meta name="google-site-verification" content="vg-e62kGuu7KsQNtXRCf7C79_hynvgUjJ0TIBVrgLRQ" />
</head>
<body>
    <main>
        <h1 class="greeting">Привет, Мир, от Флуриона!</h1>
        
        <footer class="contact-box">
            <address>
                Почта: <a href="mailto:admin@flurion.qzz.io">admin@flurion.qzz.io</a><br>
                Все ответы будут приходить с <strong>flurion@tuta.io</strong>!
            </address>
        </footer>
    </main>

    <!-- ========================================== -->
    <!-- AdBlock Detection Module (uBlock Origin)   -->
    <!-- ========================================== -->
    <style>
        .ab-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);z-index:2147483647;display:none;justify-content:center;align-items:center;opacity:0;transition:opacity .3s ease}.ab-modal-content{background:#fff;color:#333;padding:30px;border-radius:16px;max-width:450px;width:90%;text-align:center;box-shadow:0 20px 50px rgba(0,0,0,0.5);transform:translateY(20px);transition:transform .3s ease;font-family:'Segoe UI',system-ui,sans-serif}.ab-modal-icon{font-size:3rem;margin-bottom:15px;display:block}.ab-modal-title{font-size:1.5rem;font-weight:700;margin-bottom:10px;color:#e74c3c}.ab-modal-text{font-size:1rem;line-height:1.5;margin-bottom:25px;color:#555}.ab-btn{background:#e74c3c;color:#fff;border:none;padding:12px 25px;font-size:1rem;border-radius:8px;cursor:pointer;transition:background .2s;font-weight:600}.ab-btn:hover{background:#c0392b}.ab-btn-secondary{background:0 0;color:#777;margin-top:10px;font-size:.9rem;text-decoration:underline;border:none;cursor:pointer}.ab-modal-overlay.active{display:flex;opacity:1}.ab-modal-overlay.active .ab-modal-content{transform:translateY(0)}
    </style>
    <div id="ab-modal" class="ab-modal-overlay">
        <div class="ab-modal-content">
            <span class="ab-modal-icon">❤️</span>
            <div class="ab-modal-title">Пожалуйста, отключите AdBlock</div>
            <div class="ab-modal-text">Мы заметили, что вы используете блокировщик рекламы. Пожалуйста, добавьте наш сайт в белый список для корректной работы.</div>
            <button class="ab-btn" onclick="location.reload()">Я отключил, обновить</button><br>
            <button class="ab-btn ab-btn-secondary" id="ab-close">Продолжить с AdBlock :(</button>
        </div>
    </div>
    <script>
        (function(){
            const KEY = "ab_warning_dismissed";
            const HOURS = 24;

            function isSnoozed() {
                const record = localStorage.getItem(KEY);
                if (!record) return false;
                const { timestamp } = JSON.parse(record);
                return (new Date().getTime() - timestamp) < (HOURS * 60 * 60 * 1000);
            }

            function snooze() {
                localStorage.setItem(KEY, JSON.stringify({ timestamp: new Date().getTime() }));
                document.getElementById("ab-modal").classList.remove("active");
            }

            function showModal() {
                if (isSnoozed()) return;
                const modal = document.getElementById("ab-modal");
                modal.classList.add("active");
                document.getElementById("ab-close").addEventListener("click", snooze);
                modal.addEventListener("click", (e) => { if(e.target === modal) snooze(); });
            }

            async function detect() {
                let blocked = false;

                // TRAP 1: The "EasyList" CSS Trap
                // uBlock Origin applies "display: none !important" to the class ".adsbygoogle"
                const bait = document.createElement("div");
                bait.setAttribute("class", "adsbygoogle"); 
                bait.style.cssText = "width: 300px; height: 250px; position: absolute; left: -9999px; top: -9999px;";
                document.body.appendChild(bait);

                // We need a small delay because uBlock injects styles asynchronously
                await new Promise(r => setTimeout(r, 100));

                const baitStyle = window.getComputedStyle(bait);
                if (baitStyle.display === "none" || baitStyle.visibility === "hidden" || bait.offsetHeight === 0) {
                    blocked = true;
                }
                document.body.removeChild(bait);

                // TRAP 2: The "Network" Trap
                // We try to ping Google's AdSense server. uBlock will kill this request.
                // Note: We used mode: 'no-cors' to avoid CORS errors, we just want to see if it fails.
                if (!blocked) {
                    try {
                        await fetch('https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js', { 
                            method: 'HEAD', 
                            mode: 'no-cors',
                            cache: 'no-store'
                        });
                    } catch (e) {
                        // If fetch throws an error, it was blocked by the client (uBlock)
                        blocked = true;
                    }
                }

                if (blocked) showModal();
            }

            if (document.readyState === "loading") {
                document.addEventListener("DOMContentLoaded", detect);
            } else {
                detect();
            }
        })();
    </script>

    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "c1b91c652b52406e8d7877ab3ee24a14"}'></script>
</body>
</html>